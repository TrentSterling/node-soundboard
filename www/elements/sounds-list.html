<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="sounds-button.html">
<dom-module id="sounds-list">
  <style>
    :host { display: block; }
    sounds-button { margin: 10px; }
    div.flex-container {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
    }
  </style>
  <template>
    <div class="flex-container">
      <template is="dom-repeat" items="{{filtered(sounds, filter)}}">
        <sounds-button sound="{{item}}"></sounds-button>
      </template>
    </div>
  </template>
</dom-module>
<script>
  Polymer({

    is: 'sounds-list',

    properties: {
       sounds: Array,
       filter: {
         type: String,
         value: ""
       }
    },
    
    filtered: function() {
      var that = this;
      var filtered = this.sounds.filter(function(sound) {
        return sound.name.match(new RegExp(that.filter, "i"));
      });
      return filtered;
    }
  });
</script>